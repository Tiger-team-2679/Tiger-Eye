plugins {
    id "edu.wpi.first.GradleRIO" version "2018.06.21"
    id "java"
    id "idea"
    id "application"
}

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

mainClassName = "org.team2679.TigerEye.core.Bootstrap"

dependencies {
    compile wpilib()

    compile group: 'io.github.classgraph', name: 'classgraph', version: '4.1.7'
    compile group: 'org.reflections', name: 'reflections', version: '0.9.10'
}

sourceSets {
    // Note that just declaring this sourceset creates two configurations.
    simulation {
        java {
            srcDirs "/simulation/src/main"
            compileClasspath += main.output
            runtimeClasspath += main.output
        }
    }
}

configurations {
    simulationCompile.extendsFrom testCompile
    simulationRuntime.extendsFrom testRuntime
}

task runSimulator(type:JavaExec) {
    main = mainClassName
    classpath = sourceSets.simulation.runtimeClasspath
}